<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin - Form Sản Phẩm</title>
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="./public/favicon/apple-touch-icon.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="./public/favicon/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="./public/favicon/favicon-16x16.png"
    />
    <link rel="manifest" href="./public/favicon/site.webmanifest" />
    <link rel="stylesheet" href="css/admin_styles.css" />
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  </head>
  <body>
    <header>
      <h1>Bảng Điều Khiển Admin</h1>
      <nav>
        <a href="dashboard.html">Dashboard</a>
        <a href="manage_products.html" class="active">Sản Phẩm</a>
        <a href="manage_users.html">Người Dùng</a>
        <a href="manage_orders.html">Đơn Hàng</a>
        <button id="adminLogoutBtn">Đăng Xuất</button>
      </nav>
    </header>

    <main>
      <h2 id="productFormTitle">Thêm Sản Phẩm Mới</h2>
      <form id="productForm" enctype="multipart/form-data">
        <div class="form-group">
          <label for="name">Tên Sản Phẩm:</label>
          <input
            type="text"
            id="name"
            name="name"
            required
            class="form-control"
          />
        </div>

        <div class="form-group">
          <label for="brand_id">Thương Hiệu:</label>
          <select id="brand_id" name="brand_id" required class="form-control">
            <option value="">Đang tải...</option>
          </select>
        </div>

        <div class="form-group">
          <label for="type_id">Loại Sản Phẩm:</label>
          <select id="type_id" name="type_id" required class="form-control">
            <option value="">Đang tải...</option>
          </select>
        </div>

        <div class="form-group">
          <label for="description">Mô Tả:</label>
          <textarea
            id="description"
            name="description"
            class="form-control"
          ></textarea>
        </div>

        <div class="form-group">
          <label for="price">Giá Bán:</label>
          <input
            type="number"
            id="price"
            name="price"
            required
            min="0"
            step="any"
            class="form-control"
          />
        </div>

        <div class="form-group">
          <label for="original_price">Giá Gốc (Nếu có):</label>
          <input
            type="number"
            id="original_price"
            name="original_price"
            min="0"
            step="any"
            class="form-control"
          />
        </div>

        <div class="form-group">
          <label for="discount_percentage"
            >Phần Trăm Giảm Giá (0-100, nếu có):</label
          >
          <input
            type="number"
            id="discount_percentage"
            name="discount_percentage"
            min="0"
            max="100"
            class="form-control"
          />
        </div>

        <div class="form-group">
          <label for="gift_description">Mô Tả Quà Tặng (Nếu có):</label>
          <input
            type="text"
            id="gift_description"
            name="gift_description"
            class="form-control"
          />
        </div>

        <div class="form-group dynamic-field-group">
          <h4>Ảnh Sản Phẩm</h4>
          <div id="existingImagesContainer"></div>
          <label for="images_files"
            >Tải Lên Ảnh Mới (có thể chọn nhiều ảnh):</label
          >
          <input
            type="file"
            id="images_files"
            name="images_files[]"
            multiple
            accept="image/*"
            class="form-control"
          />
          <small
            >Chọn ảnh chính từ danh sách ảnh hiện có (nếu sửa) hoặc ảnh đầu tiên
            tải lên sẽ là ảnh chính (nếu tạo mới và không có cơ chế chọn cụ
            thể).</small
          >
        </div>

        <div class="form-group dynamic-field-group">
          <h4>Màu Sắc Sản Phẩm</h4>
          <div id="colorsContainer"></div>
        </div>

        <div class="form-group dynamic-field-group">
          <h4>Nhãn Sản Phẩm</h4>
          <div id="labelsContainer"></div>
        </div>

        <div class="form-actions">
          <button type="submit" class="btn-primary">Lưu Sản Phẩm</button>
          <a href="manage_products.html" class="btn-secondary">Hủy Bỏ</a>
        </div>
      </form>
    </main>

    <footer>
      <p>&copy; 2025 Dewora - Trang Quản Trị</p>
    </footer>

    <script src="js/common.js"></script>
    <script src="js/products.js"></script>
  </body>
</html>
